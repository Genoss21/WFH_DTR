<!-- ! Updated 02/11/2025 -->


<!DOCTYPE html>
<html lang="en" class="overflow-hidden min-h-screen">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
                   <!-- component -->
<!-- This is an example component -->
<style>

  input:checked ~ .dot {
  transform: translateX(100%);
  /* background-color: #132b50; */
  }
</style>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.0.0/dist/flowbite.min.css" rel="stylesheet" />
    <title>Employee Dashboard</title>
</head>
<body class="overflow-hidden h-full">

  <nav class="sticky top-0 z-50 dark:bg-white border-gray-200 bg-gray-900">
    <div class="flex flex-wrap items-center justify-between mx-auto p-4">
      <a href="" class="flex items-center space-x-3 rtl:space-x-reverse">
        <img src="https://www.tsukiden.com.ph/wp-content/uploads/2019/02/tsukiden_logo.png" class="h-8 px-4" alt="" />
      </a>
      <div class="flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
        <div class="flex flex-col text-right px-3 text-white dark:text-black">
        </h1>
        <p class="font-semibold" th:text="|${user.personalInfo.firstName} ${user.personalInfo.lastName}|">Full Name</p>
          <p class="text-xs" th:text="${user.position.positionName}">Position Name</p>
        </div>
        
        <button type="button" class="flex text-sm bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600" id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown" data-dropdown-placement="bottom">
          <span class="sr-only">Open user menu</span>
          <div class="profile">
            <img id="profileImage" class="w-9 h-9 rounded-full" th:src="@{/user-image/{empId}(empId=${user.empId})}" alt="User Photo">
        </div>
        </div>
        </button>
        <!-- Dropdown menu -->
        <div class="z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow-sm dark:bg-gray-700 dark:divide-gray-600 w-60" id="user-dropdown">
          <div class="px-4 py-3">
            <span class="block text-sm text-gray-900 dark:text-white" th:text="${user.username}"></span>
            <span class="block text-sm text-gray-500 truncate dark:text-gray-400" th:text="${user.personalInfo.email}"></span>
          </div> 
          <ul class="py-2" aria-labelledby="user-menu-button">
            <li>
              <a th:href="@{/user-page}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">Dashboard</a>
            </li>
            <li>
              <button data-modal-target="default-leave"
              data-modal-toggle="default-leave"  class="block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">File leave</button>
            </li>
            <li>
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">About us</a>
            </li>
            <li>
              <span sec:authorize="isAuthenticated">
             
                <a th:href="@{/logout}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">Log out</a>
              </span>
              </li>
            <div class="border-b"></div>
            <div class="flex flex-row justify-between toggle p-4">
              <label for="dark-toggle" class="flex items-center cursor-pointer">
                <div class="relative">
                  <input type="checkbox" name="dark-mode" id="dark-toggle" class="checkbox hidden">
                  <div class="block border-[1px] dark:border-white border-gray-900 w-10 h-6 rounded-full"></div>
                  <div class="dot absolute left-1 top-1 dark:bg-white bg-gray-800 w-4 h-4 rounded-full transition"></div>
                </div>
                <div class="ml-3 dark:text-white text-sm text-gray-700">
                  Dark Mode
                </div>
              </label>
            </div>
          </ul>
        </div>

        <button data-collapse-toggle="navbar-user" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-user" aria-expanded="false">
          <span class="sr-only">Open main menu</span>
          <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

    <!-- Main modal 1-->
<div id="default-modal" tabindex="-1" aria-hidden="true" 
class="hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">

<div class="relative p-4 w-full max-w-2xl max-h-full">
  <!-- Modal content 1-->
  <div class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">
    <!-- Modal header -->
    <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600 border-gray-200">
      <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Edit Time logs</h3>
      <button 
        type="button" 
        class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" 
        data-modal-hide="default-modal">
        <svg 
          class="w-3 h-3" 
          aria-hidden="true" 
          xmlns="http://www.w3.org/2000/svg" 
          fill="none" 
          viewBox="0 0 14 14">
          <path 
            stroke="currentColor" 
            stroke-linecap="round" 
            stroke-linejoin="round" 
            stroke-width="2" 
            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
        </svg>
        <span class="sr-only">Close modal</span>
      </button>
    </div>

    <!-- Modal body 1-->
    <form>
      <div class="grid md:grid-cols-2 md:gap-6 px-6 pt-6">
        <!-- Phone number input -->
        <div class="relative z-0 w-full mb-5 group">
          <label for="floating_phone"> Time-in:</label>
          <input 
            type="tel" 
            pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" 
            name="floating_phone" 
            id="floating_phone" 
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
            placeholder="0:6:01:01 AM" 
            required />
        </div>

        <!-- Company input -->
        <div class="relative z-0 w-full mb-5 group">
          <label for="floating_company"> Time-out:</label>
          <input 
            type="text" 
            name="floating_company" 
            id="floating_company" 
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
            placeholder="0:2:59:59 PM" 
            required />
        </div>
      </div>

      <!-- Remarks textarea -->
      <div class="relative z-0 w-full mb-5 group px-6">
        <textarea 
          name="remarks" 
          id="remarks" 
          rows="4" 
          class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
          placeholder="Remarks" 
          required></textarea>
        
      </div>

      <!-- Submit button -->
      <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
        <button 
          type="submit" 
          class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
          Submit
        </button>
      </div>
    </form>
  </div>
</div>
</div>

    <!-- Main modal 2 -->
    <div id="default-leave" tabindex="-1" aria-hidden="true" 
    class="hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
    
    <div class="relative p-4 w-full max-w-2xl max-h-full">
      <!-- Modal content 2-->
      <div class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">
        <!-- Modal header 2-->
        <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600 border-gray-200">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Application leave</h3>
          <button 
            type="button" 
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" 
            data-modal-hide="default-leave">
            <svg 
              class="w-3 h-3" 
              aria-hidden="true" 
              xmlns="http://www.w3.org/2000/svg" 
              fill="none" 
              viewBox="0 0 14 14">
              <path 
                stroke="currentColor" 
                stroke-linecap="round" 
                stroke-linejoin="round" 
                stroke-width="2" 
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
            </svg>
            <span class="sr-only">Close modal</span>
          </button>
        </div>
    
        <!-- Modal body -->
        <form>
          <div class="justify-items-center px-6 pt-6 mb-6">
             <!-- Date Range Picker -->
             <div id="date-range-picker2" date-rangepicker class="flex items-center">
              <div class="relative">
                <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                  <svg
                    class="w-4 h-4 text-gray-500 dark:text-gray-400"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                    />
                  </svg>
                </div>
                <input
                  id="datepicker-range-start2"
                  name="start"
                  type="text"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                  placeholder="Select date start"
                />
              </div>
              <span class="mx-4 text-gray-500">to</span>
              <div class="relative">
                <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                  <svg
                    class="w-4 h-4 text-gray-500 dark:text-gray-400"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                    />
                  </svg>
                </div>
                <input
                  id="datepicker-range-end2"
                  name="end"
                  type="text"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                  placeholder="Select date end"
                />
              </div>
            </div>
          </div>

          <div class="mx-6 border-b"></div>
    
          <!-- Remarks textarea -->
          <div class="relative z-0 w-full mb-5 group px-6">
            <textarea 
              name="remarks" 
              id="remarks" 
              rows="4" 
              class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" 
              placeholder="Remarks" 
              required></textarea>
            
          </div>
    
          <!-- Submit button -->
          <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
            <button 
              type="submit" 
              class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
              Submit
            </button>
          </div>
        </form>
      </div>
    </div>
    </div>

<!--Main content-->
<div class="flex flex-row">
  <div class="basis-[80%]">
    <div class="flex flex-col ">
      
    </div>

    <div class="">
      <section class="bg-white antialiased dark:bg-gray-900">
        <div class="mx-auto max-w-screen-2xl px-4 2xl:px-0">

          <!--Time logs-->
          <div class="gap-4 sm:flex sm:items-center sm:justify-between sticky top-0 bg-white dark:bg-gray-900 z-10 px-4">
            <h2 class="text-xl font-semibold text-gray-800 dark:text-white sm:text-4xl uppercase p-4">Time Logs</h2>
            <div class="flex items-center justify-end gap-4">
              <!-- Date Range Picker -->
              <div id="date-range-picker" date-rangepicker class="flex items-center">
                <div class="relative">
                  <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                    <svg
                      class="w-4 h-4 text-gray-500 dark:text-gray-400"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                      />
                    </svg>
                  </div>
                  <input
                    id="datepicker-range-start"
                    name="start"
                    type="text"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                    placeholder="Select date start"
                  />
                </div>
                <span class="mx-4 text-gray-500">to</span>
                <div class="relative">
                  <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                    <svg
                      class="w-4 h-4 text-gray-500 dark:text-gray-400"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                      />
                    </svg>
                  </div>
                  <input
                    id="datepicker-range-end"
                    name="end"
                    type="text"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                    placeholder="Select date end"
                  />
                </div>
              </div>
            
              <!-- Button -->
              <div class="flex items-center">
                <button
                  type="button"
                  class="py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"
                >
                  Filter
                </button>
              </div>
            </div>
          </div>
          <div class="ml-9">
            <!-- !Updated 02/11/2025 -->
            <!-- !Author: Stvn -->
             <!-- h2 is for debuging only it can be remove -->
              
            <h2>Welcome, <span th:text="${user.personalInfo.firstName}">User</span>!</h2>
            <div class="flow-root max-h-[755px] overflow-y-auto"> <!--overflow-y-auto for scroll-->
              <div class="divide-y divide-gray-200 dark:divide-gray-700">
                <div class="overflow-x-auto">
                  <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                    <thead class="bg-gray-50 dark:bg-gray-800">
                      <tr>
                        <th class="px-6 py-3 text-left text-xs text-center font-medium text-gray-500 dark:text-gray-400 uppercase">Date</th>
                        <th class="px-6 py-3 text-left text-xs text-center font-medium text-gray-500 dark:text-gray-400 uppercase">Time In</th>
                        <th class="px-6 py-3 text-left text-xs text-center font-medium text-gray-500 dark:text-gray-400 uppercase">Time Out</th>
                        <th class="px-6 py-3 text-left text-xs text-center font-medium text-gray-500 dark:text-gray-400 uppercase">Remarks</th>
                        <th class="px-6 py-3 text-left text-xs text-center font-medium text-gray-500 dark:text-gray-400 uppercase">Actions</th>
                      </tr>
                    </thead>
                    <tbody class="bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700">
                      
                      <tr th:each="record : ${records}" th:object="${record}"> <!-- * loop through the records list and assign each record to a variable named "record" -->
                        
                        <td class="px-6 py-4 text-center text-gray-900 dark:text-white">
                              <a href="#" class="hover:underline" 
                              th:text="${#temporals.format(record.timeIn, 'yyyy-MM-dd EEEE')}">
                              2025-01-27
                              </a>
                        </td>
                        <td class="px-6 py-4 text-center text-gray-900 dark:text-white" 
                            th:text="${#temporals.format(record.timeIn, 'HH:mm:ss')}">
                            06:00
                        </td>
                        <td class="px-6 py-4 text-center text-gray-900 dark:text-white"
                            th:text="${record.timeOut != null ? #temporals.format(record.timeOut, 'HH:mm:ss') : 'In progress'}">
                            15:00
                        </td>
                        <td class="px-6 py-4 text-center text-gray-900 dark:text-white text-xs">Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi, nihil.</td>
                        <td class="px-6 py-4 flex gap-2 justify-center">
                          
                          <button class="flex items-center justify-center gap-2 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                            <svg class="w-6 h-6" aria-hidden="true" fill="none" viewBox="0 0 24 24">
                              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z" />
                            </svg>
                            Edit
                          </button>
                          <a href="#" class="inline-flex justify-center items-center gap-2 rounded-lg border border-red-600 bg-red-600 px-3 py-2 text-sm font-medium text-white hover:bg-red-700 hover:text-white focus:ring-4 focus:ring-red-200 dark:border-red-600 dark:bg-red-800 dark:text-white dark:hover:bg-red-700 dark:focus:ring-red-700">
                            <svg class="w-6 h-6" aria-hidden="true" fill="none" viewBox="0 0 24 24">
                              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" />
                            </svg>
                            Delete
                          </a>
                        </td>
                      </tr>
 
                      
                    </tbody>
                  </table>
                </div>
               
              </div>
            </div>
            <!-- !End of update -->
            
      
            <!--Page navigation-->
            <nav class="sticky bottom-0 flex items-center justify-center my-3 bg-white dark:bg-gray-900" aria-label="Page navigation example">
              <ul class="flex h-8 items-center -space-x-px text-sm">
              <li>
                <a href="#" class="ms-0 flex h-8 items-center justify-center rounded-s-lg border border-e-0 border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                <span class="sr-only">Previous</span>
                <svg class="h-4 w-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 19-7-7 7-7" />
                </svg>
                </a>
              </li>
              <li>
                <a href="#" class="flex h-8 items-center justify-center border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</a>
              </li>
              <li>
                <a href="#" class="flex h-8 items-center justify-center border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</a>
              </li>
              <li>
                <a href="#" aria-current="page" class="z-10 flex h-8 items-center justify-center border border-primary-300 bg-primary-50 px-3 leading-tight text-primary-600 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white">3</a>
              </li>
              <li>
                <a href="#" class="flex h-8 items-center justify-center border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">...</a>
              </li>
              <li>
                <a href="#" class="flex h-8 items-center justify-center border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">100</a>
              </li>
              <li>
                <a href="#" class="flex h-8 items-center justify-center rounded-e-lg border border-gray-300 bg-white px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                <span class="sr-only">Next</span>
                  <svg class="h-4 w-4 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7" />
                  </svg>
                </a>
              </li>
              </ul>
            </nav>
            <!--End of pagination-->
          </div>
        </div>
      </section>
    </div>
  </div>
  <div class="basis-[20%] border h-screen">
    <div class="w-full">
      <div class="bg-white p-4">
        <!-- Time-in/Time-out Row -->
        <div class="flex justify-between items-center">
          <!-- !Modified 02/13/2025 -->
           <!-- !Author: Stvn -->
            <!-- clock -->

            <div id="clock"></div>
          <span id="clock" class="text-4xl font-semibold text-gray-800">6:01:00 AM</span>
          <button id="timeButton" onclick="toggleTime()" 
                  class="px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300">
            <!-- Time In -->
          </button>
        </div>
      </div>

      <div class="flex flex-col gap-4 p-4 border-y shadow-md">
  <!-- Time-in -->
        <div class="flex justify-between items-center">
          <span class="font-semibold text-gray-700">Time-in:</span>
          <span class="text-gray-900" th:text="${latestTimeIn != null ? #temporals.format(latestTimeIn, 'HH:mm:ss') : 'No time in recorded'}">06:01:00</span>
        </div>
        <!-- Time-out -->
        <div class="flex justify-between items-center">
          <span class="font-semibold text-gray-700">Time-out:</span>
          <span class="text-gray-900" th:text="${latestTimeOut != null ? #temporals.format(latestTimeOut, 'HH:mm:ss') : '--/--/--'}">--:--:--</span>
        </div>
      </div>
    </div>
    <!-- !End of modidication -->
    <!--List of Active users-->
    <div class="">
        <div class="relative overflow-x-auto p-4 bg-white shadow-md">
            <div class="flex items-center justify-between flex-column flex-wrap md:flex-row space-y-4 md:space-y-0 pb-4">
                <label for="table-search" class="sr-only">Search</label>
                <div class="relative">
                    <div class="absolute inset-y-0 rtl:inset-r-0 start-0 flex items-center ps-3 pointer-events-none">
                        <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                        </svg>
                    </div>
                    <input type="text" id="table-search-users" class="block p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-[353px] bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Search for users">
                </div>
            </div>
            <div class="max-h-[640px] overflow-y-auto overflow-hidden">
            <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 over overflow-y-auto">
                <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 sticky top-0 z-10">
                  <tr>
                    <th scope="col" class="px-6 py-3">
                      Name
                    </th>
                    <th scope="col" class="px-6 py-3">
                      Status
                    </th>
                  </tr>
                </thead>
                <tbody class="">
                    <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600">
                        <th scope="row" class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                            <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-3.jpg" alt="Jese image">
                            <div class="ps-3">
                                <div class="text-base font-semibold">Bonnie Green</div>
                                <div class="font-normal text-gray-500">bonnie@flowbite.com</div>
                            </div>
                        </th>
                        <td class="px-6 py-4">
                            <div class="flex items-center">
                                <div class="h-2.5 w-2.5 rounded-full bg-green-500 me-2"></div> Online
                            </div>
                        </td>
                    </tr>
                   
                    <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
                      <th scope="row" class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                          <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-4.jpg" alt="Jese image">
                          <div class="ps-3">
                              <div class="text-base font-semibold">Leslie Livingston</div>
                              <div class="font-normal text-gray-500">leslie@flowbite.com</div>
                          </div>
                      </th>
                      <td class="px-6 py-4">
                          <div class="flex items-center">
                              <div class="h-2.5 w-2.5 rounded-full bg-red-500 me-2"></div> Offline
                          </div>
                      </td>
                  </tr>
                  <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
                    <th scope="row" class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                        <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-4.jpg" alt="Jese image">
                        <div class="ps-3">
                            <div class="text-base font-semibold">Leslie Livingston</div>
                            <div class="font-normal text-gray-500">leslie@flowbite.com</div>
                        </div>
                    </th>
                    <td class="px-6 py-4">
                        <div class="flex items-center">
                          <div class="h-2.5 w-2.5 rounded-full bg-gray-500 me-2"></div> Leave
                        </div>
                    </td>
                </tr>
                <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
                  <th scope="row" class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-4.jpg" alt="Jese image">
                      <div class="ps-3">
                          <div class="text-base font-semibold">Leslie Livingston</div>
                          <div class="font-normal text-gray-500">leslie@flowbite.com</div>
                      </div>
                  </th>
                  <td class="px-6 py-4">
                      <div class="flex items-center">
                          <div class="h-2.5 w-2.5 rounded-full bg-red-500 me-2"></div> Offline
                      </div>
                  </td>
              </tr>
              <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
                <th scope="row" class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                    <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-4.jpg" alt="Jese image">
                    <div class="ps-3">
                        <div class="text-base font-semibold">Leslie Livingston</div>
                        <div class="font-normal text-gray-500">leslie@flowbite.com</div>
                    </div>
                </th>
                <td class="px-6 py-4">
                    <div class="flex items-center">
                        <div class="h-2.5 w-2.5 rounded-full bg-red-500 me-2"></div> Offline
                    </div>
                </td>
            </tr>
            <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
              <th scope="row" class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                  <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-4.jpg" alt="Jese image">
                  <div class="ps-3">
                      <div class="text-base font-semibold">Leslie Livingston</div>
                      <div class="font-normal text-gray-500">leslie@flowbite.com</div>
                  </div>
              </th>
              <td class="px-6 py-4">
                  <div class="flex items-center">
                      <div class="h-2.5 w-2.5 rounded-full bg-red-500 me-2"></div> Offline
                  </div>
              </td>
          </tr>
          <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
            <th scope="row" class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-4.jpg" alt="Jese image">
                <div class="ps-3">
                    <div class="text-base font-semibold">Leslie Livingston</div>
                    <div class="font-normal text-gray-500">leslie@flowbite.com</div>
                </div>
            </th>
            <td class="px-6 py-4">
                <div class="flex items-center">
                    <div class="h-2.5 w-2.5 rounded-full bg-red-500 me-2"></div> Offline
                </div>
            </td>
        </tr>
        <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
          <th scope="row" class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-4.jpg" alt="Jese image">
              <div class="ps-3">
                  <div class="text-base font-semibold">Leslie Livingston</div>
                  <div class="font-normal text-gray-500">leslie@flowbite.com</div>
              </div>
          </th>
          <td class="px-6 py-4">
              <div class="flex items-center">
                  <div class="h-2.5 w-2.5 rounded-full bg-red-500 me-2"></div> Offline
              </div>
          </td>
      </tr>
      <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
        <th scope="row" class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
            <img class="w-10 h-10 rounded-full" src="/docs/images/people/profile-picture-4.jpg" alt="Jese image">
            <div class="ps-3">
                <div class="text-base font-semibold">Leslie Livingston</div>
                <div class="font-normal text-gray-500">leslie@flowbite.com</div>
            </div>
        </th>
        <td class="px-6 py-4">
            <div class="flex items-center">
                <div class="h-2.5 w-2.5 rounded-full bg-red-500 me-2"></div> Offline
            </div>
        </td>
    </tr>
                </tbody>
            </table>
          </div>
        </div>
      </div>
  </div>
</div>

 <script src="https://cdn.jsdelivr.net/npm/flowbite@3.0.0/dist/flowbite.min.js"></script>
 
 <script>
  // for realtime clock
  function updateTime() {
     const now = new Date();
     const hours = String(now.getHours()).padStart(2, '0');
     const minutes = String(now.getMinutes()).padStart(2, '0');
     const seconds = String(now.getSeconds()).padStart(2, '0');
     document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds}`;
 }
 setInterval(updateTime, 1000);
 updateTime(); 
</script>
 
 <script>
   document.querySelectorAll('[data-modal-hide]').forEach(button => {
     button.addEventListener('click', () => {
       document.body.classList.remove('overflow-hidden');
     });
   });

   document.querySelectorAll('[data-modal-toggle]').forEach(button => {
     button.addEventListener('click', () => {
       document.body.classList.add('overflow-hidden');
     });
   });
 </script>

 <script>
  tailwind.config = {
  darkMode: 'class',
  }
</script>
<script>
  function darkModeListener() {
  document.querySelector("html").classList.toggle("dark");
  }

  document.querySelector("input[type='checkbox']#dark-toggle").addEventListener("click", darkModeListener);

</script>

<!-- !Added 02/11/2025 -->
 <!-- !Author: Stvn -->
<script>
  let isClockedIn = false;

  function toggleTime() {
        const button = document.getElementById('timeButton');
        const endpoint = isClockedIn ? '/attendance/clock-out' : '/attendance/clock-in';

          if (isClockedIn) {
            button.innerText = 'Time In';
            fetch(endpoint, { method: 'POST' })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(data => {
                    console.log(data);
                    location.reload(); // Refresh the page to update the table
                })
                .catch(error => {
                    console.error('Error during clock-out:', error);
                });

                isClockedIn = false;
          } else {
            button.innerText = 'Time Out';
            fetch(endpoint, { method: 'POST' })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(data => {
                    console.log(data);
                    location.reload(); // Refresh the page to update the table
                })
                .catch(error => {
                    console.error('Error during clock-in:', error);
                });
                isClockedIn = true;
          }
          // isClockedIn = !isClockedIn;
          }

          // Check if the user is already clocked in on page load
          window.onload = function() {
          fetch('/api/check-clocked-in') // Updated API route
            .then(response => response.json())
            .then(data => {
                isClockedIn = data.clockedIn; 
                const button = document.getElementById('timeButton');
                button.innerText = isClockedIn ? 'Time Out' : 'Time In';
            })
            .catch(error => {
                console.error('Error checking clock-in status:', error);
            });
          };
</script>


<!-- !End of added -->

<!-- Time in Time out
<script>
  // JavaScript to toggle between Time-in and Time-out
  document.getElementById("time-toggle-btn").addEventListener("click", function () {
    const timeDisplay = document.getElementById("time-display");
    const button = this;

    // Check the current state and toggle
    if (button.innerText === "Time-in") {
      const currentTime = new Date().toLocaleTimeString(); // Get current time
      timeDisplay.innerText = `${currentTime}`;
      button.innerText = "Time-out"; // Switch button text
    } else {
      const currentTime = new Date().toLocaleTimeString(); // Get current time
      timeDisplay.innerText = `${currentTime}`;
      button.innerText = "Time-in"; // Switch button text
    }
  });
</script> -->
</body>
</html>